# EasyStay 后端服务 (Server)

这是 EasyStay 酒店预订平台的核心后端接口服务，使用 Node.js + Express 搭建，并提供基于 JSON 文件的本地数据存储支持。

## 🚀 快速启动指南

所有的前端同学（移动端与 PC 端）在进行接口联调前，请**务必先启动本服务**。

### 1. 环境要求
- Node.js >= 16
- npm >= 8

### 2. 启动步骤

确保你在命令行中已经进入了 `server` 文件夹：

1. **安装所有必须的依赖包：**
   ```bash
   npm install
   ```

2. **启动开发服务器：**
   （支持热更新，修改代码后自动重启）
   ```bash
   npm run dev
   ```
   *如果不支持 nodemon 环境，也可以使用备用启动方式：`npm start`*

3. **验证启动：**
   看到终端底部输出以下绿色文字即代表启动成功：
   ```
   Server is running on http://localhost:3000
   ```
   **注意：启动成功后，请不要关闭该命令行窗口！**

---

## 📖 API 接口连调测试 (Swagger)

后端已内置了开箱即用的 **Swagger UI**。
它不仅是一份最新的接口文档，还可以让你直接在线点击发请求测试（免去你配置 Postman 的麻烦）。

**在启动服务后，请使用浏览器访问：**
👉 **[http://localhost:3000/api-docs](http://localhost:3000/api-docs)**

- 所有的**必传参数**及**类型约束**（利用 Zod 做了严格限制）都在文档上标明。
- 对于打着“小锁头”标志的接口，你需要先调用 `/auth/login` 并在右上方的 `Authorize` 按钮输入你换到的 Token。

## ⚠️ 联调注意事项

1. **统一前缀**：所有的接口访问路径均以 `/api/v1` 开头。
2. **严格参数拦截**：如果你的请求收到了带有 `数据格式校验失败` 的 `400` 报错，说明你传递的 JSON 参数不符合业务约束（如：房型被写死导致为空限制，或开业日期不是 YYYY-MM-DD 格式），请根据报错信息补充。
3. **返回数据结构**：所有返回体都统一包裹在以下格式中：
   ```json
   {
     "code": 200, 
     "data": { ... }, 
     "message": "success"
   }
   ```
