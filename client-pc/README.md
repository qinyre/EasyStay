# EasyStay é…’åº—ç®¡ç†ç³»ç»Ÿ - PC ç®¡ç†ç«¯

## é¡¹ç›®ä»‹ç»

EasyStay æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„é…’åº—é¢„è®¢ç®¡ç†ç³»ç»Ÿï¼Œæœ¬ä»“åº“ä¸º **PC ç®¡ç†ç«¯**ï¼Œä¸»è¦é¢å‘é…’åº—å•†æˆ·å’Œç³»ç»Ÿç®¡ç†å‘˜ï¼Œæä¾›é…’åº—ä¿¡æ¯ç®¡ç†ã€å®¡æ ¸ç®¡ç†ã€ä¸Šä¸‹çº¿ç®¡ç†ç­‰åŠŸèƒ½ã€‚

---

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19.2.0 | UI æ¡†æ¶ |
| TypeScript | 5.9.3 | ç±»å‹å®‰å…¨ |
| Ant Design | 6.3.0 | UI ç»„ä»¶åº“ |
| Tailwind CSS | 3.4.17 | åŸå­åŒ– CSS |
| React Router | 7.13.0 | è·¯ç”±ç®¡ç† |
| Axios | 1.13.5 | HTTP å®¢æˆ·ç«¯ |
| Vite | 7.3.1 | æ„å»ºå·¥å…· |

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm 9.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬

### å®‰è£…ä¾èµ–

```bash
cd client-pc
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—®ï¼š**http://localhost:3002**

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆæ„å»ºç»“æœ

```bash
npm run preview
```

---

## é¡¹ç›®ç»“æ„

```
client-pc/
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/             # é¡¹ç›®èµ„æºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ react.svg       # React å›¾æ ‡
â”‚   â”œâ”€â”€ images/             # å›¾ç‰‡èµ„æº
â”‚   â”‚   â””â”€â”€ background.png  # ç™»å½•é¡µèƒŒæ™¯å›¾
â”‚   â”œâ”€â”€ constants/          # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ facilities.ts   # é…’åº—è®¾æ–½åˆ—è¡¨ (12é¡¹)
â”‚   â”‚   â””â”€â”€ hotelTags.ts    # é…’åº—æ ‡ç­¾åˆ—è¡¨ (8ä¸ª)
â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout.tsx      # ä¸»å¸ƒå±€ (ä¾§è¾¹æ  + Header)
â”‚   â”œâ”€â”€ mock/               # Mock æ•°æ®
â”‚   â”‚   â”œâ”€â”€ hotel.ts        # é…’åº—æµ‹è¯•æ•°æ®
â”‚   â”‚   â””â”€â”€ user.ts         # ç”¨æˆ·æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Admin/          # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ AuditList.tsx       # å®¡æ ¸ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ PublishList.tsx     # ä¸Šä¸‹çº¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Auth/           # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx            # ç™»å½•
â”‚   â”‚   â”‚   â””â”€â”€ Register.tsx         # æ³¨å†Œ
â”‚   â”‚   â””â”€â”€ Merchant/       # å•†æˆ·é¡µé¢
â”‚   â”‚       â”œâ”€â”€ HotelForm.tsx        # é…’åº—è¡¨å• (æ·»åŠ /ç¼–è¾‘)
â”‚   â”‚       â””â”€â”€ HotelList.tsx        # é…’åº—åˆ—è¡¨
â”‚   â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.ts          # Axios å®ä¾‹é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ config.ts       # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ hotel.ts        # é…’åº—æœåŠ¡
â”‚   â”œâ”€â”€ test-data/          # æµ‹è¯•æ•°æ®ç®¡ç†
â”‚   â”‚   â””â”€â”€ dataManager.ts  # LocalStorage æ•°æ®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ App.tsx             # åº”ç”¨å…¥å£ç»„ä»¶ (è·¯ç”±é…ç½®)
â”‚   â”œâ”€â”€ App.css             # åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ main.tsx            # åº”ç”¨å¯åŠ¨æ–‡ä»¶
â”‚   â””â”€â”€ index.css           # å…¨å±€æ ·å¼ (Tailwind)
â”œâ”€â”€ index.html              # HTML å…¥å£
â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â”œâ”€â”€ tailwind.config.js      # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ eslint.config.js        # ESLint é…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ CLAUDE.md               # AI ä¸Šä¸‹æ–‡æ–‡æ¡£
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. è®¤è¯ç³»ç»Ÿ

- **ç™»å½•/æ³¨å†Œ**ï¼šæ”¯æŒå•†æˆ·å’Œç®¡ç†å‘˜è´¦å·ç™»å½•æ³¨å†Œ
- **è§’è‰²é€‰æ‹©**ï¼šæ³¨å†Œæ—¶é€‰æ‹©å•†æˆ·æˆ–ç®¡ç†å‘˜è§’è‰²
- **è‡ªåŠ¨è·³è½¬**ï¼šç™»å½•åæ ¹æ®è§’è‰²è‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”é¡µé¢
- **Token æŒä¹…åŒ–**ï¼šä½¿ç”¨ localStorage å­˜å‚¨ token

### 2. å•†æˆ·åŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| **æˆ‘çš„é…’åº—** | æŸ¥çœ‹å•†æˆ·åä¸‹æ‰€æœ‰é…’åº—ï¼Œæ”¯æŒåˆ†é¡µ |
| **æ·»åŠ é…’åº—** | å½•å…¥é…’åº—ä¿¡æ¯ï¼ŒåŒ…æ‹¬åŸºæœ¬ä¿¡æ¯ã€è®¾æ–½ã€æ ‡ç­¾ã€æˆ¿å‹ |
| **ç¼–è¾‘é…’åº—** | ä¿®æ”¹é…’åº—ä¿¡æ¯ï¼Œç¼–è¾‘åé‡æ–°è¿›å…¥å¾…å®¡æ ¸çŠ¶æ€ |
| **åˆ é™¤é…’åº—** | åˆ é™¤é…’åº—æ•°æ® |
| **å›¾ç‰‡ä¸Šä¼ ** | æ”¯æŒé…’åº—å›¾ç‰‡ä¸Šä¼  |
| **çŠ¶æ€æŸ¥çœ‹** | å®æ—¶æŸ¥çœ‹é…’åº—çš„å®¡æ ¸çŠ¶æ€å’Œä¸Šä¸‹çº¿çŠ¶æ€ |

### 3. ç®¡ç†å‘˜åŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| **å®¡æ ¸ç®¡ç†** | æŸ¥çœ‹å¾…å®¡æ ¸é…’åº—åˆ—è¡¨ï¼Œæ”¯æŒä¸€é”®é€šè¿‡/æ‹’ç» |
| **æ‹’ç»åŸå› ** | æ‹’ç»æ—¶éœ€å¡«å†™åŸå› å¹¶ä¿å­˜ |
| **ä¸Šä¸‹çº¿ç®¡ç†** | ç®¡ç†å·²é€šè¿‡å®¡æ ¸çš„é…’åº—ä¸Šçº¿/ä¸‹çº¿çŠ¶æ€ |
| **è™šæ‹Ÿåˆ é™¤** | ä¸‹çº¿åŠŸèƒ½é‡‡ç”¨è™šæ‹Ÿåˆ é™¤ï¼Œæ•°æ®å¯æ¢å¤ |
| **é…’åº—è¯¦æƒ…** | æŸ¥çœ‹æ‰€æœ‰é…’åº—çš„è¯¦ç»†ä¿¡æ¯ |

### 4. ç‰¹è‰²åŠŸèƒ½

- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **ä¼˜é›…çš„ UI**ï¼šAnt Design + Tailwind CSS ç°ä»£åŒ–ç•Œé¢
- **èƒŒæ™¯å›¾ç‰‡**ï¼šç™»å½•æ³¨å†Œé¡µé¢ä½¿ç”¨é…’åº—ä¸»é¢˜èƒŒæ™¯
- **è¡¨å•éªŒè¯**ï¼šå®Œå–„çš„è¡¨å•éªŒè¯å’Œé”™è¯¯æç¤º
- **æ•°æ®å¯è§†åŒ–**ï¼šç›´è§‚çš„çŠ¶æ€ Tag æ˜¾ç¤ºï¼ˆå¾…å®¡æ ¸/å·²é€šè¿‡/å·²æ‹’ç»ï¼‰
- **æ•°æ®æºåˆ‡æ¢**ï¼šæ”¯æŒæœ¬åœ°å­˜å‚¨å’Œåç«¯ API æ— ç¼åˆ‡æ¢

---

## æ•°æ®æºåˆ‡æ¢

é¡¹ç›®æ”¯æŒä¸¤ç§æ•°æ®æºæ¨¡å¼ï¼š

### æœ¬åœ°å­˜å‚¨æ¨¡å¼ (local)

ä½¿ç”¨ localStorage æ¨¡æ‹Ÿæ•°æ®å­˜å‚¨ï¼Œé€‚åˆå¼€å‘å’Œæµ‹è¯•ã€‚

```typescript
// src/services/config.ts
export const DATA_SOURCE: string = "local";
```

### åç«¯ API æ¨¡å¼ (backend)

è°ƒç”¨çœŸå®çš„åç«¯ APIï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒã€‚

```typescript
// src/services/config.ts
export const DATA_SOURCE: string = "backend";
export const API_BASE_URL = "http://localhost:3000/api/v1";
```

---

## API ç«¯ç‚¹

### è®¤è¯æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/auth/register` | ç”¨æˆ·æ³¨å†Œ |
| POST | `/auth/login` | ç”¨æˆ·ç™»å½• |

### å•†æˆ·æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/merchant/hotels` | è·å–å•†æˆ·é…’åº—åˆ—è¡¨ |
| POST | `/merchant/hotels` | åˆ›å»ºé…’åº— |
| PUT | `/merchant/hotels/:id` | æ›´æ–°é…’åº— |
| DELETE | `/merchant/hotels/:id` | åˆ é™¤é…’åº— |
| POST | `/merchant/upload` | ä¸Šä¼ å›¾ç‰‡ |

### ç®¡ç†å‘˜æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/admin/hotels` | è·å–æ‰€æœ‰é…’åº— |
| PATCH | `/admin/audit/:id` | å®¡æ ¸é…’åº— |
| PATCH | `/admin/publish/:id` | ä¸Šä¸‹çº¿é…’åº— |

---

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

| ç±»å‹ | çº¦å®š | ç¤ºä¾‹ |
|------|------|------|
| ç»„ä»¶ | PascalCase | `HotelForm.tsx` |
| å‡½æ•° | camelCase | `handleSubmit` |
| å¸¸é‡ | UPPER_SNAKE_CASE | `API_BASE_URL` |
| ç±»å‹/æ¥å£ | PascalCase | `Hotel` |

### ç»„ä»¶å¼€å‘

1. **é¡µé¢ç»„ä»¶**ï¼šæ”¾åœ¨ `src/pages/` å¯¹åº”è§’è‰²ç›®å½•ä¸‹
2. **å¸ƒå±€ç»„ä»¶**ï¼šæ”¾åœ¨ `src/layouts/` ç›®å½•
3. **æœåŠ¡å±‚**ï¼šæ”¾åœ¨ `src/services/` ç›®å½•ï¼Œå¤„ç† API è°ƒç”¨
4. **å¸¸é‡å®šä¹‰**ï¼šæ”¾åœ¨ `src/constants/` ç›®å½•

### æ•°æ®æ¨¡å‹

#### Hotelï¼ˆé…’åº—ï¼‰
```typescript
interface Hotel {
  id: string;
  name_cn: string;          // é…’åº—ä¸­æ–‡åï¼ˆå¿…é¡»ï¼‰
  name_en: string;          // é…’åº—è‹±æ–‡åï¼ˆå¿…é¡»ï¼‰
  address: string;          // åœ°å€ï¼ˆå¿…é¡»ï¼‰
  star_level: number;       // æ˜Ÿçº§ 1-5
  open_date: string;        // å¼€ä¸šæ—¶é—´
  banner_url: string;       // Banner å›¾ç‰‡ URL
  description?: string;     // é…’åº—ä»‹ç»
  tags?: string[];          // æ ‡ç­¾
  facilities?: string[];    // è®¾æ–½åˆ—è¡¨
  rooms: Room[];            // æˆ¿å‹åˆ—è¡¨
  audit_status: 'pending' | 'approved' | 'rejected';
  is_offline: boolean;
  fail_reason?: string;     // å®¡æ ¸æ‹’ç»åŸå› 
}
```

#### Roomï¼ˆæˆ¿å‹ï¼‰
```typescript
interface Room {
  id?: string;
  name: string;             // æˆ¿å‹åç§°ï¼ˆå¿…é¡»ï¼‰
  price: number;            // ä»·æ ¼ï¼ˆå¿…é¡»ï¼‰
  capacity: number;         // å®¹çº³äººæ•°
  description?: string;     // æè¿°
  image_url?: string;       // å›¾ç‰‡ URL
  amenities?: string[];     // è®¾æ–½åˆ—è¡¨
}
```

---

## å¸¸è§é—®é¢˜

**Q: å¦‚ä½•åˆ‡æ¢åˆ°åç«¯ APIï¼Ÿ**
A: ä¿®æ”¹ `src/services/config.ts`ï¼Œå°† `DATA_SOURCE` æ”¹ä¸º `"backend"`ã€‚

**Q: å®¡æ ¸é€šè¿‡åé…’åº—æ˜¯å¦è‡ªåŠ¨ä¸Šçº¿ï¼Ÿ**
A: æ˜¯çš„ï¼Œå®¡æ ¸é€šè¿‡æ—¶ `is_offline` è‡ªåŠ¨è®¾ä¸º `false`ã€‚

**Q: ä¸‹çº¿çš„é…’åº—èƒ½å¦æ¢å¤ï¼Ÿ**
A: å¯ä»¥ï¼Œé€šè¿‡ä¸Šä¸‹çº¿ç®¡ç†é¡µé¢çš„"ä¸Šçº¿"æŒ‰é’®æ¢å¤ã€‚

**Q: ç¼–è¾‘é…’åº—åéœ€è¦é‡æ–°å®¡æ ¸å—ï¼Ÿ**
A: æ˜¯çš„ï¼Œç¼–è¾‘åçš„é…’åº— `audit_status` ä¼šé‡ç½®ä¸º `"pending"`ã€‚

---

## ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ |
|------|------|
| AI ä¸Šä¸‹æ–‡ | [CLAUDE.md](./CLAUDE.md) |
| åç«¯æ–‡æ¡£ | [../server/CLAUDE.md](../server/CLAUDE.md) |
| ç§»åŠ¨ç«¯æ–‡æ¡£ | [../client-mobile/CLAUDE.md](../client-mobile/CLAUDE.md) |

---

**æ„Ÿè°¢ä½¿ç”¨ EasyStay é…’åº—ç®¡ç†ç³»ç»Ÿï¼** ğŸ‰
