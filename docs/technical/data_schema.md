# 易宿酒店预订平台 - 数据结构定义文档 (Data Schema)

> 这份数据结构定义文档（Data Schema）是项目存储逻辑的蓝图。它规定了 `hotels.json` 和 `users.json` 的字段类型与业务含义，确保前端在渲染页面和后端在读写文件时，对数据的理解完全一致。

## 1. 酒店信息数据结构 (`hotels.json`)

此文件以数组形式存储所有酒店对象，是整个系统的核心数据。

| 字段名 (Key) | 类型 | 描述 | 约束与备注 |
| --- | --- | --- | --- |
| `id` | String | 酒店唯一标识符 | 建议使用时间戳或 UUID 字符串。 |
| `name_cn` | String | 酒店中文名 | **必须维度**，用于移动端及 PC 端显示。 |
| `name_en` | String | 酒店英文名 | **必须维度**，支持国际化展示。 |
| `address` | String | 酒店详细地址 | **必须维度**。 |
| `star_level` | Number | 酒店星级 | **必须维度**，取值范围：1-5。 |
| `open_date` | String | 开业时间 | **必须维度**，格式建议：`YYYY-MM-DD`。 |
| `audit_status` | String | 审核状态 | 枚举值：`Pending` (审核中), `Approved` (通过), `Rejected` (不通过)。 |
| `fail_reason` | String | 审核不通过原因 | 仅当状态为 `Rejected` 时必填。 |
| `is_offline` | Boolean | 是否已下线 | **虚拟删除标志**：`true` 为下线（移动端不显示），支持数据恢复。 |
| `banner_url` | String | 酒店大图 URL | 对应移动端详情页的轮播图。 |
| `tags` | Array | 快捷标签 | 如：`["亲子", "豪华", "免费停车场"]`。 |
| `attractions` | String | 附近景点/交通 | 可选维度，提升用户体验。 |
| `discount_info` | String | 优惠信息 | 可选维度，如"节日优惠打8折"。 |
| `rooms` | Array | 房型列表 | 嵌套数组，包含具体的房型对象。 |

### 1.1 房型对象结构 (`rooms` 数组内部)

| 字段名 (Key) | 类型 | 描述 | 备注 |
| --- | --- | --- | --- |
| `type_name` | String | 房型名称 | 如：经典双床房。 |
| `price` | Number | 房型价格 | **核心字段**，移动端需据此进行升序排序。 |
| `stock` | Number | 房间库存 | 可选维度，用于控制预定量。 |

---

## 2. 用户账户数据结构 (`users.json`)

此文件用于管理平台角色的登录验证。

| 字段名 (Key) | 类型 | 描述 | 备注 |
| --- | --- | --- | --- |
| `username` | String | 登录账号 | 唯一标识。 |
| `password` | String | 登录密码 | 实际开发建议存储加密后的哈希值。 |
| `role` | String | 账户角色 | 枚举值：`merchant` (商户) 或 `admin` (管理员)。 |

---

## 3. 设计规范与约束

1. **价格类型限制**：`price` 必须存储为 `Number` 类型，以便成员 A 实现详情页"价格从低到高"的自动排序逻辑。
2. **虚拟删除逻辑**：执行"下线"操作时，后端仅修改 `is_offline: true`，不物理删除 JSON 中的条目，以满足"下线可以被恢复"的需求。
3. **状态实时性**：商户修改保存后，后端需更新 `audit_status` 为 `Pending`（或保持原有状态），确保数据流向管理员审核队列。
